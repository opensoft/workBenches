{
	"name": "Go DevBench Container - The Monster",
	"dockerComposeFile": "docker-compose.yml",
	"service": "go_bench",
	"workspaceFolder": "/workspace",
	
	// Mount host home directory directly for seamless config/SSH access
	"mounts": [
		// Current workspace (already in docker-compose.yml but good to be explicit)
		"source=${localWorkspaceFolder}/..,target=/workspace,type=bind,consistency=cached",
		// Host home directory mounted directly - gives access to SSH, configs, dotfiles
		"source=${localEnv:HOME},target=/home/${localEnv:USER},type=bind,consistency=cached"
	],
	
	// Container environment variables
	"containerEnv": {
		"USERNAME": "${localEnv:USER}",
		"USER_UID": "${localEnv:UID:-1000}",
		"USER_GID": "${localEnv:GID:-1000}",
		"DEBUG": "false"
	},
	
	// Features are now built into the Dockerfile

	// Configure tool-specific properties
	"customizations": {
		"vscode": {
			"extensions": [
				"golang.go",
				"GitHub.copilot",
				"GitHub.copilot-chat",
				"ms-azuretools.vscode-docker",
				"ms-kubernetes-tools.vscode-kubernetes-tools",
				"ms-vscode.remote-containers",
				"eamodio.gitlens",
				"esbenp.prettier-vscode",
				"humao.rest-client",
				"ms-vscode-remote.remote-ssh",
				"redhat.vscode-yaml",
				"hashicorp.terraform",
				"tamasfe.even-better-toml",
				"premparihar.gotestexplorer"
			],
			"settings": {
				"terminal.integrated.defaultProfile.linux": "zsh",
				"go.toolsManagement.autoUpdate": true,
				"go.useLanguageServer": true,
				"go.lintTool": "golangci-lint",
				"go.lintOnSave": "workspace",
				"go.formatTool": "goimports",
				"go.autocompleteUnimportedPackages": true,
				"go.gocodePackageLookupMode": "go",
				"go.gotoSymbol.includeImports": true,
				"go.docsTool": "gogetdoc",
				"go.testTimeout": "30s",
				"[go]": {
					"editor.formatOnSave": true,
					"editor.codeActionsOnSave": {
						"source.organizeImports": "explicit"
					}
				},
				"gopls": {
					"ui.semanticTokens": true,
					"ui.completion.usePlaceholders": true,
					"ui.diagnostic.analyses": {
						"composites": false,
						"unusedparams": true,
						"unusedwrite": true
					}
				}
			}
		}
	},

	// Use 'forwardPorts' to make a list of ports inside the container available locally
	"forwardPorts": [8080, 8081, 9090, 3000],

	// All setup is done in the Dockerfile

	// Comment out to connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root
	"remoteUser": "${localEnv:USER}"
}
